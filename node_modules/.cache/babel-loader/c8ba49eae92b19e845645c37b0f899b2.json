{"ast":null,"code":"var _jsxFileName = \"/home/daniel/code/flindel_challenge/client/src/components/ReturnForm.js\";\nimport React, { useState } from 'react';\nimport styles from './ReturnForm.module.css';\n\nconst ReturnForm = ({\n  setRefund,\n  setReturnableProducts,\n  setNotification\n}) => {\n  const [id, setIdInput] = useState('');\n  /*Make an api request to check\n  which products of a transaction can be returned and\n  what the total refund will be*/\n\n  const checkProductReturn = async event => {\n    event.preventDefault();\n    setNotification(null);\n    setReturnableProducts([]);\n    setRefund(0);\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    const body = JSON.stringify({\n      id\n    });\n    const res = await fetch('http://localhost:5000/api/transaction/return', {\n      headers,\n      body,\n      method: 'POST'\n    });\n    const response = await res.json();\n\n    if (response.error) {\n      setNotification(response.error);\n    } else {\n      setRefund(response.refund);\n      setReturnableProducts(response.products);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: checkProductReturn,\n    className: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    \"aria-label\": \"transaction id\",\n    placeholder: \"Enter transaction id\",\n    value: id,\n    onChange: event => setIdInput(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"Submit\"));\n};\n\nexport default ReturnForm;","map":{"version":3,"sources":["/home/daniel/code/flindel_challenge/client/src/components/ReturnForm.js"],"names":["React","useState","styles","ReturnForm","setRefund","setReturnableProducts","setNotification","id","setIdInput","checkProductReturn","event","preventDefault","headers","body","JSON","stringify","res","fetch","method","response","json","error","refund","products","form","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA,SAAD;AAAYC,EAAAA,qBAAZ;AAAmCC,EAAAA;AAAnC,CAAD,KAAyD;AAC1E,QAAM,CAACC,EAAD,EAAKC,UAAL,IAAmBP,QAAQ,CAAC,EAAD,CAAjC;AAEA;;;;AAGA,QAAMQ,kBAAkB,GAAG,MAAMC,KAAN,IAAe;AACxCA,IAAAA,KAAK,CAACC,cAAN;AACAL,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAD,IAAAA,qBAAqB,CAAC,EAAD,CAArB;AACAD,IAAAA,SAAS,CAAC,CAAD,CAAT;AAEA,UAAMQ,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;AAIA,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAACR,MAAAA;AAAD,KAAf,CAAb;AAEA,UAAMS,GAAG,GAAG,MAAMC,KAAK,CAAC,8CAAD,EAAiD;AACtEL,MAAAA,OADsE;AAEtEC,MAAAA,IAFsE;AAGtEK,MAAAA,MAAM,EAAE;AAH8D,KAAjD,CAAvB;AAMA,UAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,IAAJ,EAAvB;;AAEA,QAAID,QAAQ,CAACE,KAAb,EAAoB;AAClBf,MAAAA,eAAe,CAACa,QAAQ,CAACE,KAAV,CAAf;AACD,KAFD,MAEO;AACLjB,MAAAA,SAAS,CAACe,QAAQ,CAACG,MAAV,CAAT;AACAjB,MAAAA,qBAAqB,CAACc,QAAQ,CAACI,QAAV,CAArB;AACD;AACF,GA1BD;;AA4BA,sBACE;AAAM,IAAA,QAAQ,EAAEd,kBAAhB;AAAoC,IAAA,SAAS,EAAEP,MAAM,CAACsB,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,kBAAW,gBAFb;AAGE,IAAA,WAAW,EAAC,sBAHd;AAIE,IAAA,KAAK,EAAEjB,EAJT;AAKE,IAAA,QAAQ,EAAEG,KAAK,IAAIF,UAAU,CAACE,KAAK,CAACe,MAAN,CAAaC,KAAd,CAL/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,CADF;AAWD,CA7CD;;AA+CA,eAAevB,UAAf","sourcesContent":["import React, {useState} from 'react';\nimport styles from './ReturnForm.module.css';\n\nconst ReturnForm = ({setRefund, setReturnableProducts, setNotification}) => {\n  const [id, setIdInput] = useState('')\n\n  /*Make an api request to check\n  which products of a transaction can be returned and\n  what the total refund will be*/\n  const checkProductReturn = async event => {\n    event.preventDefault()\n    setNotification(null)\n    setReturnableProducts([])\n    setRefund(0)\n\n    const headers = {\n      'Content-Type': 'application/json'\n    }\n\n    const body = JSON.stringify({id})\n    \n    const res = await fetch('http://localhost:5000/api/transaction/return', {\n      headers,\n      body,\n      method: 'POST'\n    })\n\n    const response = await res.json()\n\n    if (response.error) {\n      setNotification(response.error)\n    } else {\n      setRefund(response.refund)\n      setReturnableProducts(response.products)\n    }\n  }\n\n  return (\n    <form onSubmit={checkProductReturn} className={styles.form}>\n      <input \n        type=\"text\" \n        aria-label=\"transaction id\" \n        placeholder=\"Enter transaction id\"\n        value={id}\n        onChange={event => setIdInput(event.target.value)}/>\n      <button>Submit</button>\n    </form>\n  )\n}\n\nexport default ReturnForm"]},"metadata":{},"sourceType":"module"}